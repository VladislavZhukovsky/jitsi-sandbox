<!DOCTYPE html>
<html>
    <head>
        <script src="https://meet.jit.si/libs/lib-jitsi-meet.min.js"></script>
        <script src='https://meet.jit.si/external_api.js'></script>
        <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
    </head>
    <body>
        <h1>Page with Jitsi room</h1>
        <div class="container">
            <div id='jitsi-meet-conf-container'></div>
        </div>
        <script type="text/javascript">
            const domain = 'meet.jit.si';
            const options = {
                roomName: 'ArenaRoom2022Api',
                width: '100%',
                height: '800',
                parentNode: document.querySelector('#jitsi-meet-conf-container'),
                userInfo: {
                    displayName: 'Valdis'
                },
                configOverwrite:{
                },
                interfaceConfigOverwrite: {
                    DISPLAY_WELCOME_PAGE_CONTENT: false,
                    TOOLBAR_BUTTONS: [
                        'microphone', 'camera'
                    ],
                },
                onload: function () {
                    alert('loaded');
                }
            };

            apiObj = new JitsiMeetExternalAPI(domain, options);
            apiObj.addEventListeners({
                readyToClose: function () {
                    alert('going to close');
                    $("#jitsi-meet-conf-container").empty();
                }
            });

            apiObj.executeCommand('subject', '');

        </script>
    </body>
</html>